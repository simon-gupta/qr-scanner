<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qr scanner</title>
    <script src="./node_modules/html5-qrcode/html5-qrcode.min.js"></script>
    <style>
        main{
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #reader{
            width: 600px;
        }
        #result{
            text-align: center;
            font-size: 1.5rem;
        }
        #dashboardButton {
            display: none;
            margin-top: 20px; /* Added to create space between result and button */
        }
    </style>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        
        <div id="reader">
        </div>
        <div id="result"></div>
        <button id="dashboardButton">Go to Dashboard</button>
        
    </main>

    <script>
        const scanner = new Html5QrcodeScanner('reader',{
            qrbox:{
                width: 250,
                height:250,
            },
            fps:20,
        });

        scanner.render(success, error);

        function success(result){

            
            document.getElementById('dashboardButton').style.display = 'block';
            document.getElementById('dashboardButton').addEventListener('click', function() {
            // Redirect to dashboard.html
            window.location.href = 'dashboard.html';
        });
            scanner.clear();
            document.getElementById('reader').remove();

            console.log(result);
          var myVariable = result;
        
        // Store the variable in local storage
          localStorage.setItem('myVariable', myVariable);

        }
        function error(err){
            console.error(err);
        }

       
        
        
    </script>
    
</body>
</html>